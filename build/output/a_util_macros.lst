ca65 V2.18 - Debian 2.19-1
Main file   : source/a_util_macros.s
Current file: source/a_util_macros.s

000000r 1               .macro  load_addr_to_zp source_addr, zp_addr
000000r 1               ;Description
000000r 1               ;  loads the address into the specified zp
000000r 1               ;Arguments
000000r 1               ;  addr - static addr (like a symbol)
000000r 1               ;  zp - zero page address
000000r 1               ;Preconditions
000000r 1               ;  none
000000r 1               ;Side Effects
000000r 1               ;  addr -> zp
000000r 1               ;Note
000000r 1               ;  The macro is overengineering, but I am using this to play with macros. "I'm learnding!"
000000r 1                 ;pha
000000r 1                 lda #<source_addr ; The low byte of the 16 bit address pointer is loaded into A
000000r 1                 sta zp_addr
000000r 1                 lda #>source_addr ; the high byte of the pointer
000000r 1                 sta zp_addr+1
000000r 1                 ;pla
000000r 1               .endmacro
000000r 1               
